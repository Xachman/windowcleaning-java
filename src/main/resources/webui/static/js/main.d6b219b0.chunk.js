(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{473:function(e,a,t){e.exports=t(865)},478:function(e,a,t){},734:function(e,a){},736:function(e,a){},865:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(29),o=t.n(c),l=(t(478),t(887)),i=t(886),s=t(890),u=t(870),m=t(888),d=t(891),E=t(871),f=t(872),p=t(898),h=t(893),b=t(895),v=t(873),g=t(874),y=t(875),O=t(876),j=t(877),w=t(878),C=t(879),k=t(880),S=t(881),J=t(167),P=t.n(J),T=t(74),x=t(75),B=t(223),I=t(197),N=t(225),D=t(8),L=t(47),U=(t(25),function(e){function a(){var e,t;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(B.a)(this,(e=Object(I.a)(a)).call.apply(e,[this].concat(r)))).handleClick=function(){console.log(t.props);var e=t.props.path,a=t.props.recordField,n=t.props.record[a];console.log(n),window.location=void 0==n?"#"+e:"#"+e+"/"+n},t}return Object(N.a)(a,e),Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement(L.a,{label:this.props.label,onClick:this.handleClick})}}]),a}(n.Component)),R=function(e){return r.a.createElement(s.a,e,r.a.createElement(u.a,{source:"name"}))},W=function(e){return r.a.createElement(m.a,Object.assign({},e,{filters:r.a.createElement(R,null)}),r.a.createElement(d.a,null,r.a.createElement(E.a,{source:"id"}),r.a.createElement(E.a,{source:"name"}),r.a.createElement(E.a,{source:"location"}),r.a.createElement(f.a,null),r.a.createElement(U,{label:"Create Job",path:"/jobs/customer/create",recordField:"id"})))},A=function(e){return r.a.createElement(p.a,e,r.a.createElement(F,null))},_=function(e){var a=e.record;return r.a.createElement("span",null,"Post ",a?'"'.concat(a.name,'"'):"")},M=function(e){return r.a.createElement(h.a,Object.assign({title:r.a.createElement(_,null)},e),r.a.createElement(F,null))},z=function(e){return r.a.createElement(b.a,e,r.a.createElement(v.a,null,r.a.createElement(E.a,{source:"name"})))},F=function(e){return r.a.createElement(g.a,e,r.a.createElement(y.a,{label:"General"},r.a.createElement(O.a,{source:"id"}),r.a.createElement(u.a,{source:"name"}),r.a.createElement(u.a,{source:"location"}),r.a.createElement(u.a,{source:"area"}),r.a.createElement(j.a,{source:"type",choices:[{id:"C",name:"C"},{id:"N",name:"N"},{id:"R",name:"R"}]}),r.a.createElement(j.a,{source:"company",choices:[{id:"S",name:"S"},{id:"I",name:"I"}]}),r.a.createElement(w.a,{source:"notes"})),r.a.createElement(y.a,{label:"Contacts"},r.a.createElement(P.a,{container:!0,spacing:24},r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(P.a,{container:!0,direction:"column"},r.a.createElement("h2",null,"Location Information"),r.a.createElement(u.a,{source:"contact"}),r.a.createElement(u.a,{source:"addressLine1"}),r.a.createElement(u.a,{source:"addressLine2"}),r.a.createElement(u.a,{source:"city"}),r.a.createElement(u.a,{source:"state"}),r.a.createElement(u.a,{source:"zip"}),r.a.createElement(u.a,{source:"phone"}),r.a.createElement(u.a,{source:"fax"}))),r.a.createElement(P.a,{item:!0,md:6},r.a.createElement(P.a,{container:!0,direction:"column"},r.a.createElement("h2",null,"Billing Information"),r.a.createElement(u.a,{source:"contactB"}),r.a.createElement(u.a,{source:"addressLine1B"}),r.a.createElement(u.a,{source:"addressLine2B"}),r.a.createElement(u.a,{source:"cityB"}),r.a.createElement(u.a,{source:"stateB"}),r.a.createElement(u.a,{source:"zipB"}),r.a.createElement(u.a,{source:"phoneB"}),r.a.createElement(u.a,{source:"faxB"}))))),r.a.createElement(y.a,{label:"Accounting"},r.a.createElement(u.a,{source:"obtainedBy"}),r.a.createElement(u.a,{source:"royaltyTo"}),r.a.createElement(C.a,{source:"monthlyBill",placeholder:"0.0"}),r.a.createElement(C.a,{source:"billCharge",placeholder:"0.0"}),r.a.createElement(C.a,{source:"deposit",placeholder:"0.0"}),r.a.createElement(C.a,{source:"salesTax",placeholder:"0.0"})),r.a.createElement(y.a,{label:"Settings"},r.a.createElement(k.a,{source:"obtainedDate"}),r.a.createElement(S.a,{source:"active"}),r.a.createElement(k.a,{source:"inactiveDate"}),r.a.createElement(S.a,{source:"fourWeekInvoice"}),r.a.createElement(S.a,{source:"calendarMonthInvoice"}),r.a.createElement(S.a,{source:"quarterlyInvoice"}),r.a.createElement(S.a,{source:"AWWPUR"}),r.a.createElement(S.a,{source:"AWWLine"})))},H=t(894),V=t(892),q=t(883),G=t(884),$=function(e){return r.a.createElement(m.a,e,r.a.createElement(d.a,null,r.a.createElement(E.a,{source:"id"}),r.a.createElement(H.a,{label:"Customer",source:"customer.id",reference:"customers"},r.a.createElement(E.a,{source:"name"})),r.a.createElement(f.a,null)))},K=function(e){return console.log(e.match.params.customer_id),r.a.createElement(p.a,Object.assign({title:"Create Job"},e),Y(X(e.match.params.customer_id)))},Q=function(e){return r.a.createElement(h.a,Object.assign({title:"Edit Job"},e),Y(X(e.match.params.customer_id)))},X=function(e){var a=r.a.createElement(V.a,{label:"Customer",source:"customer.id",reference:"customers/filter/name"},r.a.createElement(q.a,{optionText:"name",defaultValue:"Tim"}));return void 0!=e&&(a=r.a.createElement(O.a,{defaultValue:e,source:"customer.id"})),a},Y=function(e){return r.a.createElement(G.a,null,r.a.createElement(O.a,{source:"id"}),e,r.a.createElement(C.a,{source:"amount"}),r.a.createElement(C.a,{source:"daysBetween"}),r.a.createElement(C.a,{source:"percent"}),r.a.createElement(S.a,{source:"printServiceStatement"}),r.a.createElement(S.a,{source:"printInvoice"}),r.a.createElement(S.a,{source:"paymentExpected"}),r.a.createElement(S.a,{source:"autoPrintServiceStatement"}),r.a.createElement(C.a,{source:"difficulty"}),r.a.createElement(w.a,{source:"description"}),r.a.createElement(w.a,{source:"notes"}))},Z=t(12),ee=t(55),ae=t.n(ee),te=t(83),ne=t.n(te),re=t(148),ce=t(217),oe=t(309),le=t(56),ie=t(800),se=t(271),ue=function(){function e(a){Object(T.a)(this,e),this.apiUrl="",this.apiUrl=a}return Object(x.a)(e,[{key:"buildUrl",value:function(e,a){var t={};if(null!=a.pagination){var n=a.pagination,r=n.page,c=n.perPage;t.range=JSON.stringify([(r-1)*c,r*c-1])}if(void 0!=a.sort){var o=a.sort,l=o.field,i=o.order;t.sort=JSON.stringify([l,i])}return void 0!=a.filter&&(t.filter=JSON.stringify(a.filter)),void 0!=a.between&&(t.between=JSON.stringify(a.between)),"".concat(this.apiUrl,"/").concat(e,"?").concat(Object(le.stringify)(t))}}]),e}(),me=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie.a.fetchJson;return function(t,n,r){if(t===se.i)return Promise.all(r.ids.map(function(t){return a("".concat(e,"/").concat(n,"/").concat(t),{method:"PUT",body:JSON.stringify(r.data)})})).then(function(e){return{data:e.map(function(e){return e.json})}});if(t===se.c)return Promise.all(r.ids.map(function(t){return a("".concat(e,"/").concat(n,"/").concat(t),{method:"DELETE"})})).then(function(e){return{data:e.map(function(e){return e.json})}});var c=function(a,t,n){var r="",c={},o=new ue(e);switch(a){case se.d:r=o.buildUrl(t,n);break;case se.g:r="".concat(e,"/").concat(t,"/").concat(n.id);break;case se.e:var l={filter:JSON.stringify({id:n.ids})};r="".concat(e,"/").concat(t,"?").concat(Object(le.stringify)(l));break;case se.f:var i=n.pagination,s=i.page,u=i.perPage,m=n.sort,d=m.field,E=m.order,f={sort:JSON.stringify([d,E]),range:JSON.stringify([(s-1)*u,s*u-1]),filter:JSON.stringify(Object(oe.a)({},n.filter,Object(ce.a)({},n.target,n.id)))};r="".concat(e,"/").concat(t,"?").concat(Object(le.stringify)(f));break;case se.h:r="".concat(e,"/").concat(t,"/").concat(n.id),c.method="PUT",c.body=JSON.stringify(n.data);break;case se.a:r="".concat(e,"/").concat(t),c.method="POST",c.body=JSON.stringify(n.data);break;case se.b:r="".concat(e,"/").concat(t,"/").concat(n.id),c.method="DELETE";break;default:throw new Error("Unsupported fetch action type ".concat(a))}return{url:r,options:c}}(t,n,r),o=c.url,l=c.options;return a(o,l).then(function(e){return function(e,a,t,n){var r=e.headers,c=e.json;switch(a){case se.d:case se.f:if(!r.has("content-range"))throw new Error("The Content-Range header is missing in the HTTP Response. The simple REST data provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare Content-Range in the Access-Control-Expose-Headers header?");return{data:c,total:parseInt(r.get("content-range").split("/").pop(),10)};case se.a:return{data:Object(oe.a)({},n.data,{id:c.id})};default:return{data:c}}}(e,t,0,r)})}},de=function(){function e(){Object(T.a)(this,e)}return Object(x.a)(e,null,[{key:"getDataProvider",value:function(){return me("http://localhost:8080")}}]),e}(),Ee=t(295),fe=t.n(Ee),pe=(t(801),t(802),t(804),function(e){function a(){var e,t;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(B.a)(this,(e=Object(I.a)(a)).call.apply(e,[this].concat(r)))).dataProvider=de.getDataProvider(),t.items=[],t}return Object(N.a)(a,e),Object(x.a)(a,[{key:"componentDidMount",value:function(){this.cal=fe()(this.refs.calendar).fullCalendar({events:this.getEvents.bind(this),displayEventEnd:!1,header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay,listWeek"}})}},{key:"render",value:function(){return r.a.createElement("div",{ref:"calendar"})}},{key:"getEvents",value:function(e,a,t,n){var r=this;this.dataProvider(se.d,"calendar",{between:{serviceDate:[1e3*e.unix(),1e3*a.unix()]}}).then(function(e){var a=r.arrangeEvents(e.data);n(a)})}},{key:"arrangeEvents",value:function(e){for(var a=[],t=0;t<e.length;t++){var n=e[t];a.push({start:new Date(n.serviceDate),title:"\nCustomer: "+n.job.customer.name+"\nTech: "+n.doneBy})}return a}}]),a}(r.a.Component)),he=function(){return r.a.createElement(ae.a,null,r.a.createElement(re.a,{title:"Calendar"}),r.a.createElement(ne.a,null,r.a.createElement(pe,null)))},be=[r.a.createElement(Z.d,{exact:!0,path:"/calendar",component:he}),r.a.createElement(Z.d,{exact:!0,path:"/jobs/customer/create/:customer_id",render:function(e){return r.a.createElement(K,Object.assign({resource:"jobs"},e))}})],ve=t(889),ge=t(296),ye=t(107),Oe=t(152),je=t(425),we=t.n(je),Ce=t(426),ke=t.n(Ce),Se=Object(Z.f)(Object(D.b)(function(e){return{resources:Object(Oe.d)(e)}})(function(e){var a=e.resources,t=e.onMenuClick,n=e.logout;return r.a.createElement("div",null,a.map(function(e){if(e.hasList)return r.a.createElement(ge.a,{to:"/"+e.name,primaryText:"".concat(e.name.charAt(0).toUpperCase()+e.name.slice(1)),leftIcon:r.a.createElement(we.a,null),onClick:t})}),r.a.createElement(ge.a,{to:"/Calendar",primaryText:"Calendar",leftIcon:r.a.createElement(ke.a,null),onClick:t}),r.a.createElement(ye.a,{small:n,medium:null}))})),Je=function(e){return r.a.createElement(ve.a,Object.assign({},e,{menu:Se}))},Pe=function(e){return r.a.createElement(m.a,e,r.a.createElement(d.a,null,r.a.createElement(E.a,{source:"id"}),r.a.createElement(E.a,{source:"status"}),r.a.createElement(H.a,{label:"Customer",source:"job.id",reference:"jobs"},r.a.createElement(H.a,{source:"customer.id",reference:"customers"},r.a.createElement(E.a,{source:"name"}))),r.a.createElement(f.a,null)))},Te=t(885),xe=function(e){return r.a.createElement(m.a,e,r.a.createElement(d.a,null,r.a.createElement(E.a,{source:"id"}),r.a.createElement(Te.a,{source:"dateInvoiced"}),r.a.createElement(H.a,{label:"Customer",source:"order.id",reference:"orders"},r.a.createElement(H.a,{source:"job.id",reference:"jobs"},r.a.createElement(H.a,{source:"customer.id",reference:"customers"},r.a.createElement(E.a,{source:"name"})))),r.a.createElement(f.a,null)))},Be=new de.getDataProvider,Ie=function(){return r.a.createElement(l.a,{appLayout:Je,customRoutes:be,dataProvider:Be},r.a.createElement(i.a,{name:"customers",list:W,edit:M,create:A,show:z}),r.a.createElement(i.a,{name:"jobs",list:$,create:K,edit:Q}),r.a.createElement(i.a,{name:"orders",list:Pe}),r.a.createElement(i.a,{name:"invoices",list:xe}),r.a.createElement(i.a,{name:"customers/filter/name"}),r.a.createElement(i.a,{name:"calendar"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[473,2,1]]]);
//# sourceMappingURL=main.d6b219b0.chunk.js.map